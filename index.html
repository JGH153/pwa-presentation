<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>PWA-P</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<style>
			.slides{
				/* width: 95% !important; */
			}
		</style>

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- https://vimeo.com/249183473 -->

                <section>
                    <h2>
						Progressive Web Apps
						<br>
						(PWA)
                    </h2>
				</section>

				<section>
					<h2>
                        Buzzword
                    </h2>
				</section>
				
				<section>
					<img class="stretch" data-src="content/pwa/creature.jpg">
				</section>

				<section>
                    A collection of tecnologies/features that enable a native like experiences with a seamless experiences despite changing conditions
                </section>
                
                <section>
                    <img class="stretch" data-src="content/pwa/pwa-reliable.png">
                </section>

				<section>
					<section>
						Let's break it down
					</section>
					<section>
						Not one single thing
                    </section>
                    <section>
                        <!-- move? -->
                        <img class="stretch" data-src="content/pwa/responsive.jpg">
                    </section>
                    <section>
                        A series of new browser capabilities
                    </section>
				</section>

				<section>
					<section>
						What are we trying to solve with PWA?
					</section>
					<section>
						The dream of the native app
					</section>
					<section>
						Getting your app installed is impossible
                    </section>
                    <section>
                        Enhancing and improving the user experience
                    </section>
                    <section>
                        <img class="stretch" data-src="content/pwa/noInternet.png">
                    </section>
                    <section>
                        PWA can remove the need for a seperate native application
                    </section>
				</section>

				<section>
					<section>
						Whats included under the banner of PWA?
					</section>
					<section>
                        <ul>
                            <li>Responsive design</li>
                            <li>Progressive enhancements</li>
                            <li>Connectivity independent </li>
                            <li>App-like</li>
                            <li>Native features</li>
                            <li>Fresh/updated</li>
                            <li>Safe </li>
                            <li>Discoverable </li>
                            <li>Re-engageable (notifications)</li>
                            <li>Installable </li>
                            <li>Linkable</li>
                        </ul>
					</section>
					<section>
						<ul>
							<li>Geolocation</li>
							<li>Fetch API (replaces XMLHttpRequest)</li>
							<li>IndexedDB (for the SQLite guys)</li>
							<li>Web Bluetooth</li>
							<li>WebRTC (my last prez)</li>
							<li>Battery API</li>
							<li>Accelerometer API</li>
							<li>Payment API</li>
							<li>Vibration</li>
							<li>VR/AR</li>
						</ul>
					</section>
					<section>
						<ul>
							<li>Server side rendering</li>
							<li>HTTP2</li>
							<li>dns-prefetch</li>
						</ul>
					</section>

					<section>
						That's a LONG list
					</section>
				</section>
				

				
				<section>
					Let's deep dive into a few important features
				</section>
				<section>
                    <section>
                        Web worker
                        <p class="fragment">
                            Shared worker
                        </p>
                        <p class="fragment">
                            Service worker
                        </p>
					</section>
					<section>
						<img class="stretch" data-src="content/pwa/sw.png">    
					</section>
                    <section>
                        <img class="stretch" data-src="content/pwa/sw-lifecycle.png">    
                    </section>
                    <section>
                        Offline capabilities and push notifications
                    </section>
                    <section>
                        Always(ish) running
                    </section>
                    <section>
                        Bacground sync
                    </section>

				</section>

                <section>

                    <section>
                        Web App Manifest
                        <p class="fragment">
                            Not to be confused with the application cache manifest (depricated)
                        </p>
                    </section>
                    <section>
                        "Install" website
                    </section>
                    <section>
                        <img class="stretch" data-src="content/pwa/manefest.jpg">
                    </section>
                    <section>
                        Can remove browser UI
                        <p class="fragment">
                            which is a problem on IOS
                        </p>
                    </section>
					
				</section>

                <section>

                    <script>
                    
                    function requestPermission() {
  if (!('Notification' in window)) {
    alert('Notification API not supported!');
    return;
  }
  
  Notification.requestPermission(function (result) {
    $status.innerText = result;
  });
}

function nonPersistentNotification() {
    if (!('Notification' in window)) {
      alert('Notification API not supported!');
      return;
    }
    
    try {
      var notification = new Notification("Hi there - non-persistent!");
    } catch (err) {
      alert('Notification API error: ' + err);
    }
  }
                    
                    </script>

                    <section>
                        Notifications
                        <p><button class="btn btn-default" onclick="nonPersistentNotification()">Persistent notification</button></p>
                    </section>
                    <section>
                        In service worker
					</section>
					
				</section>

                <section>


                    <section>
                        Fast and secure (HTTPS only!)
					</section>

				</section>

                <section>
					

					<section>
						Web Payment
					</section>
					<section>
						<img class="stretch" data-src="content/pwa/webpayment.png">	
					</section>
					<section>
						<img class="stretch" data-src="content/pwa/webPaymentDone.png">	
					</section>
				</section>

                <section>
                    <section>
                        Do not need to re-write website to support many features in PWA
                    </section>
                    <section>
                        Can also enchance smaler parts of an application
                    </section>
                    <section>
                        You can cherry pick featurs from PWA
					</section>
					<section>
						Debugging PWA
					</section>
					<section>
						<img class="stretch" data-src="content/pwa/devtools.png">	
					</section>
					<section>
						<img class="stretch" data-src="content/pwa/debugManifest.png">	
					</section>
					<section>
						Site cannot be installed: the manifest does not contain a suitable icon - PNG format of at least 144px is required, the sizes attribute must be set, and the purpose attribute, if set, must include "any".
					</section>
                </section>  

				<section>
					<section>
						Enhancing a angular-cli application with PWA features
					</section>
					<section>
                        angular-cli.json
                        <pre class="fragment"><code class="TypeScript" data-trim contenteditable>
                            "serviceWorker": true
                        </code></pre>  
                        <pre class="fragment"><code class="TypeScript" data-trim contenteditable>
                            npm i @angular/service-worker --S
                        </code></pre> 
                        <pre class="fragment"><code class="TypeScript" data-trim contenteditable>
                            ng build --prod
                        </code></pre> 
                    </section>
                    <section>
                        Manifest
                        <p class="fragment">
                            New manifest.json file in src/
                        </p>
                        <pre class="fragment"><code class="TypeScript" data-trim contenteditable>
                            <link rel="mannifest" href="manifest.json" />
                        </code></pre> 
                    </section>
                </section>
                
                <section>
                    <section>
                        Problems with PWA
                    </section>
                    <section>
                        No application can work truly offline
                    </section>
                    <section>
                        Service worker cloggage is going to be a problem
                    </section>
                    <section>
                        You don't want to "install" EVERY WEBSITE YOU USE
					</section>
					<section>
						Experimental, and changing
					</section>
					<section>
						Minimal IE/Edge support
						<p class="fragment">
							Core features finally will get safari support
						</p>
					</section>
                    <section>
                        Fun fact: You can make truly evil sites with PWA
                        <p class="fragment">
                            Service worker notifications misuse, and hypercatching
                        </p>
                        <p class="fragment">
                            Mobile vibration
                        </p>
                        <p class="fragment">
                            Copy paste missusing
                        </p>
                        <p class="fragment">
                            Constant fullscreen
                        </p>
                        <p class="fragment">
                            Share website abuse
                        </p>
                    </section>
                </section>

				
                

				<section>
                    Jan Greger Hemb <br />
                    www.github.com/JGH153<br />
                </section>

                <section>
                    https://whatwebcando.today/
                </section>

                <section>
                    Questions?
                </section>

				<section>
					This page is intentionally left blank
				</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				history: true,
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
